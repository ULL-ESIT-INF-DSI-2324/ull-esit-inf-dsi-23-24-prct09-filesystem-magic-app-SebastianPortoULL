<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>filesystem-magic-app</title><meta name="description" content="Documentation for filesystem-magic-app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">filesystem-magic-app</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>filesystem-magic-app</h2></div><div class="tsd-panel tsd-typography"><a id="md:informe-práctica-9---aplicación-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:informe-práctica-9---aplicación-para-coleccionistas-de-cartas-magic">Informe Práctica 9 - Aplicación para coleccionistas de cartas Magic</a></h1><hr>
<ul>
<li>Alumno: Sebastián André Porto Specht</li>
<li>Correo: <em>alu0101494265</em></li>
<li>Asignatura: <strong>Desarrollo de Sistemas Informáticos</strong> (DSI)</li>
</ul>
<hr>
<a id="md:índice" class="tsd-anchor"></a><h1><a href="#md:índice">Índice</a></h1><ul>
<li><a href="#md:introducción">Introducción</a></li>
<li><a href="#md:objetivos">Objetivos</a></li>
<li><a href="#md:código-implementado-y-tests">Código Implementado y Tests</a></li>
<li><a href="#md:conclusión">Conclusión</a></li>
<li><a href="#md:bibliografía">Bibliografía</a></li>
</ul>
<hr>
<a id="md:introducción" class="tsd-anchor"></a><h2><a href="#md:introducción">Introducción</a></h2><p>Se ha creado una aplicación en TypeScript para coleccionistas de cartas Magic, permitiendo gestionar y organizar colecciones personales de cartas a través de la línea de comandos. Las funcionalidades principales incluyen añadir, modificar, eliminar, listar y consultar detalles de cartas. La información de las cartas se guarda en formato <code>JSON</code> en el sistema de ficheros local. El código está alojado en un repositorio de GitHub y sigue una estructura coherente con las prácticas enseñadas en clase. Se han utilizado las herramientas <code>yargs</code> para la ejecución de comandos por línea de comandos y <code>chalk</code> para mostrar colores en la consola. Por último se requiere el uso de la API síncrona de Node.js <code>fs</code>.</p>
<a id="md:objetivos" class="tsd-anchor"></a><h2><a href="#md:objetivos">Objetivos</a></h2><ul>
<li><strong>Desarrollo en TypeScript:</strong> Implementar una aplicación funcional utilizando TypeScript como lenguaje de programación principal.</li>
<li><strong>Gestión de Colecciones:</strong> Permitir a los usuarios gestionar y organizar su colección personal de cartas Magic, incluyendo operaciones como añadir, modificar, eliminar, listar y consultar información detallada de las cartas.</li>
<li><strong>Almacenamiento en JSON:</strong> Almacenar la información de cada carta en formato JSON en el sistema de ficheros del dispositivo donde se ejecute la aplicación, garantizando una estructura de datos coherente y fácilmente manipulable.</li>
<li><strong>Interfaz de Línea de Comandos (CLI):</strong> Desarrollar una interfaz de usuario basada exclusivamente en la línea de comandos, utilizando la biblioteca yargs para facilitar la creación de comandos y la interacción con el usuario.</li>
<li><strong>Estilización de Salida:</strong> Utilizar la biblioteca chalk para mejorar la presentación de la información en la línea de comandos mediante la aplicación de colores y estilos.</li>
<li><strong>Gestión del sistema de ficheros con <code>fs</code>:</strong> Utilizar el módulo fs de Node.js para la lectura, escritura y manipulación de archivos, asegurando una gestión eficiente y segura de la información de las colecciones de cartas Magic.</li>
<li><strong>Gestión de Código Fuente:</strong> Alojar todo el código desarrollado en un repositorio de GitHub, asegurando una estructura de proyecto coherente y organizada, similar a las prácticas vistas en clase.</li>
<li><strong>Análisis y Documentación:</strong> Elaborar un informe detallado que analice las decisiones de diseño adoptadas durante el desarrollo de la solución, proporcionando una visión clara y explicativa de las elecciones técnicas realizadas.</li>
</ul>
<a id="md:código-implementado-y-tests" class="tsd-anchor"></a><h3><a href="#md:código-implementado-y-tests">Código Implementado y Tests</a></h3><a id="md:código" class="tsd-anchor"></a><h4><a href="#md:código"><strong>Código</strong></a></h4><p>Los siguientes ficheros se encuentran dentro del directorio <code>/src/code</code>:</p>
<a id="md:colorts" class="tsd-anchor"></a><h5><a href="#md:colorts"><code>color.ts</code></a></h5><ul>
<li><strong>Enum <code>Color</code></strong>: Este archivo define un enumerado TypeScript llamado <code>Color</code>, que representa los colores de las cartas en el juego Magic. Los colores incluidos son:<ul>
<li><code>white</code></li>
<li><code>blue</code></li>
<li><code>black</code></li>
<li><code>red</code></li>
<li><code>green</code></li>
<li><code>colorless</code></li>
<li><code>multicolor</code></li>
</ul>
</li>
</ul>
<a id="md:tipots" class="tsd-anchor"></a><h5><a href="#md:tipots"><code>tipo.ts</code></a></h5><ul>
<li><strong>Enum <code>Tipo</code></strong>: Define un enumerado TypeScript llamado <code>Tipo</code>, que describe los diferentes tipos de cartas Magic:<ul>
<li><code>Tierra</code></li>
<li><code>Criatura</code></li>
<li><code>Encantamiento</code></li>
<li><code>Conjuro</code></li>
<li><code>Instantáneo</code></li>
<li><code>Artefacto</code></li>
<li><code>Planeswalker</code></li>
</ul>
</li>
</ul>
<a id="md:rarezats" class="tsd-anchor"></a><h5><a href="#md:rarezats"><code>rareza.ts</code></a></h5><ul>
<li><strong>Enum <code>Rareza</code></strong>: Este archivo define un enumerado TypeScript llamado <code>Rareza</code>, que representa las rarezas de las cartas Magic:<ul>
<li><code>Comun</code></li>
<li><code>Infrecuente</code></li>
<li><code>Rara</code></li>
<li><code>Mitica</code></li>
</ul>
</li>
</ul>
<a id="md:cartats" class="tsd-anchor"></a><h5><a href="#md:cartats"><code>carta.ts</code></a></h5><ul>
<li><strong>Interface <code>Carta</code></strong>: Define una interfaz TypeScript llamada <code>Carta</code>, que describe la estructura de una carta Magic. Los atributos incluyen:<ul>
<li><code>id</code>: número identificador de la carta</li>
<li><code>nombre</code>: nombre de la carta</li>
<li><code>costeMana</code>: coste de mana necesario para jugar la carta</li>
<li><code>color</code>: color de la carta (enum <code>Color</code>)</li>
<li><code>tipo</code>: tipo de la carta (enum <code>Tipo</code>)</li>
<li><code>rareza</code>: rareza de la carta (enum <code>Rareza</code>)</li>
<li><code>textoReglas</code>: texto que describe las reglas de la carta</li>
<li><code>fuerza</code>: fuerza de la carta (opcional, solo para cartas de tipo <code>Criatura</code>)</li>
<li><code>resistencia</code>: resistencia de la carta (opcional, solo para cartas de tipo <code>Criatura</code>)</li>
<li><code>marcasLealtad</code>: marcas de lealtad de la carta (opcional, solo para cartas de tipo <code>Planeswalker</code>)</li>
<li><code>valorMercado</code>: valor de mercado de la carta</li>
</ul>
</li>
</ul>
<a id="md:coleccionts" class="tsd-anchor"></a><h5><a href="#md:coleccionts"><code>coleccion.ts</code></a></h5><ul>
<li><strong>Clase <code>Coleccion</code></strong>: Esta clase representa una colección de cartas para un usuario. Los métodos incluyen:<ul>
<li><code>dirBase</code>: atributo que guarda el directorio base donde se almacenarán las colecciones de cartas</li>
<li><code>constructor</code>: inicializa la clase y establece el directorio base</li>
<li><code>añadirCarta(usuario, carta)</code>: añade una carta a la colección de un usuario</li>
<li><code>modificarCarta(usuario, carta, argv)</code>: modifica una carta existente en la colección de un usuario</li>
<li><code>eliminarCarta(usuario, id)</code>: elimina una carta de la colección de un usuario</li>
<li><code>listarCartas(usuario)</code>: lista todas las cartas de la colección de un usuario</li>
<li><code>mostrarCarta(usuario, id)</code>: muestra una carta específica de la colección de un usuario</li>
</ul>
</li>
</ul>
<a id="md:tests" class="tsd-anchor"></a><h4><a href="#md:tests"><strong>Tests</strong></a></h4><p>El siguiente fichero de tests se encuentra en el directorio <code>/tests</code>:</p>
<a id="md:coleccionspects" class="tsd-anchor"></a><h5><a href="#md:coleccionspects"><code>coleccion.spec.ts</code></a></h5><ul>
<li><strong>Tests para <code>Coleccion</code></strong>: Este archivo contiene pruebas unitarias para la clase <code>Coleccion</code>. Los tests incluyen:<ul>
<li><code>Se crea una Coleccion correctamente</code>: prueba que verifica si se crea correctamente una instancia de la clase <code>Coleccion</code></li>
<li><code>Se añade una carta a la coleccion</code>: verifica la funcionalidad de añadir cartas a la colección</li>
<li><code>Se modifica una carta de la coleccion</code>: verifica la funcionalidad de modificar cartas en la colección</li>
<li><code>Se elimina una carta de la coleccion</code>: verifica la funcionalidad de eliminar cartas de la colección</li>
<li><code>Se listan las cartas de la coleccion</code>: verifica la funcionalidad de listar todas las cartas de la colección de un usuario</li>
<li><code>Se muestra una carta de la coleccion</code>: verifica la funcionalidad de mostrar una carta específica de la colección de un usuario</li>
</ul>
</li>
</ul>
<a id="md:ejemplos-de-los-archivos-json" class="tsd-anchor"></a><h4><a href="#md:ejemplos-de-los-archivos-json"><strong>Ejemplos de los archivos JSON</strong></a></h4><p>Para los archivos <code>JSON</code> se ha guardado la estructura de una interfaz de una carta, guardando en cada directorio de un usuario (<code>/usuarios/usuario</code>) una base de datos con el ID de la carta (<code>X.json</code>, siendo X la id, un número). Algún ejemplo sería:</p>
<a id="md:usuariosseb1json" class="tsd-anchor"></a><h5><a href="#md:usuariosseb1json"><code>/usuarios/Seb/1.json</code></a></h5><pre><code class="language-json"><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;id&quot;</span><span class="hl-0">: </span><span class="hl-2">1</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;nombre&quot;</span><span class="hl-0">: </span><span class="hl-3">&quot;Prueba&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;costeMana&quot;</span><span class="hl-0">: </span><span class="hl-2">0</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;color&quot;</span><span class="hl-0">: </span><span class="hl-2">3</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;tipo&quot;</span><span class="hl-0">: </span><span class="hl-2">0</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;rareza&quot;</span><span class="hl-0">: </span><span class="hl-2">0</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;textoReglas&quot;</span><span class="hl-0">: </span><span class="hl-3">&quot;Regla_1&quot;</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-1">&quot;valorMercado&quot;</span><span class="hl-0">: </span><span class="hl-2">0</span><br/><span class="hl-0">}</span>
</code><button>Copy</button></pre>
<a id="md:programa-principal" class="tsd-anchor"></a><h4><a href="#md:programa-principal"><strong>Programa Principal</strong></a></h4><p>El programa principal se encuentra en el directorio <code>/src/main</code>:</p>
<a id="md:appts" class="tsd-anchor"></a><h5><a href="#md:appts"><code>app.ts</code></a></h5><ul>
<li><p><strong>Importaciones</strong>: Se importan módulos y clases necesarios como <code>yargs</code>, <code>Color</code>, <code>Tipo</code>, <code>Rareza</code>, <code>Carta</code> y <code>Coleccion</code>.</p>
</li>
<li><p><strong>Inicialización de la Colección</strong>: Se crea una instancia de la clase <code>Coleccion</code>.</p>
</li>
<li><p><strong>Configuración de yargs</strong>:</p>
<ul>
<li><code>hideBin</code>: Ayuda a ocultar el binario de Node.js y mostrar solo los argumentos.</li>
<li><code>command</code>: Define diferentes comandos disponibles para la aplicación.<ul>
<li><code>añadir</code>: Añade una nueva carta a la colección.</li>
<li><code>modificar</code>: Modifica una carta existente en la colección.</li>
<li><code>eliminar</code>: Elimina una carta de la colección.</li>
<li><code>listar</code>: Lista todas las cartas de un usuario específico.</li>
<li><code>mostrar</code>: Muestra detalles de una carta específica de un usuario.</li>
</ul>
</li>
<li><code>builder</code>: Define los argumentos esperados para cada comando.</li>
<li><code>handler</code>: Define la lógica a ejecutar cuando se llama a un comando específico.</li>
</ul>
</li>
<li><p><strong>Ejemplo de Handler</strong>:</p>
<ul>
<li>En el comando <code>añadir</code>, se crea un objeto <code>Carta</code> con los argumentos proporcionados y se llama al método <code>añadirCarta</code> de la instancia <code>coleccion</code>.</li>
<li>En el comando <code>modificar</code>, se crea un objeto <code>Carta</code> con los argumentos proporcionados y se llama al método <code>modificarCarta</code> de la instancia <code>coleccion</code>.</li>
<li>En el comando <code>eliminar</code>, se llama al método <code>eliminarCarta</code> de la instancia <code>coleccion</code>.</li>
<li>En el comando <code>listar</code>, se llama al método <code>listarCartas</code> de la instancia <code>coleccion</code>.</li>
<li>En el comando <code>mostrar</code>, se llama al método <code>mostrarCarta</code> de la instancia <code>coleccion</code>.</li>
</ul>
</li>
<li><p><strong>Ayuda y Alias</strong>: Se proporciona una opción de ayuda (<code>help</code>) y un alias (<code>h</code>) para mostrar información sobre cómo usar la aplicación.</p>
</li>
</ul>
<hr>
<a id="md:conclusión" class="tsd-anchor"></a><h2><a href="#md:conclusión">Conclusión</a></h2><p>Durante la realización de la práctica se desarrolló con éxito una aplicación en TypeScript para gestionar colecciones de cartas <strong>Magic</strong> a través de la línea de comandos. Se emplearon herramientas como <code>yargs</code> y <code>chalk</code> para mejorar la interacción y visualización en la consola, respectivamente. También se ha empleado el módulo <code>fs</code> de Node.js para gestionar de manera efectiva y segura el sistema de ficheros, facilitando las operaciones de lectura, escritura y manipulación de archivos relacionados con las colecciones de cartas Magic. El proyecto se estructuró de manera organizada y se alojó en un repositorio de GitHub, reflejando las buenas prácticas de programación aprendidas en clase.</p>
<hr>
<a id="md:bibliografía" class="tsd-anchor"></a><h2><a href="#md:bibliografía">Bibliografía</a></h2><ul>
<li><a href="https://ull-esit-inf-dsi-2324.github.io/prct09-fiilesystem-magic-app/">Enunciado de la práctica</a></li>
<li><a href="https://istanbul.js.org/">Instanbul</a></li>
<li><a href="https://coveralls.io/">Coveralls</a></li>
<li><a href="https://typedoc.org/">TypeDoc</a></li>
<li><a href="https://mochajs.org/">Mocha</a></li>
<li><a href="https://www.chaijs.com/">Chai</a></li>
<li><a href="https://www.npmjs.com/package/yargs">Yargs</a></li>
<li><a href="https://www.npmjs.com/package/chalk">Chalk</a></li>
<li><a href="#md:https://nodejs.org/docs/latest/api/fs.html">API sincrona de Node.js <code>fs</code></a></li>
<li><a href="https://docs.github.com/en/actions">GitHub Actions Documentation</a></li>
<li><a href="https://sonarcloud.io">SonarCloud</a></li>
<li><a href="https://markdown.es/sintaxis-markdown/#links">Guía de Markdown</a></li>
<li><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-SebastianPortoULL">Repositorio en Github de la práctica</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:informe-práctica-9---aplicación-para-coleccionistas-de-cartas-magic"><span>Informe <wbr/>Práctica 9 -<wbr/> <wbr/>Aplicación para coleccionistas de cartas <wbr/>Magic</span></a><a href="#md:índice"><span>Índice</span></a><ul><li><a href="#md:introducción"><span>Introducción</span></a></li><li><a href="#md:objetivos"><span>Objetivos</span></a></li><li><ul><li><a href="#md:código-implementado-y-tests"><span>Código <wbr/>Implementado y <wbr/>Tests</span></a></li><li><ul><li><a href="#md:código"><span>Código</span></a></li><li><ul><li><a href="#md:colorts"><span>color.ts</span></a></li><li><a href="#md:tipots"><span>tipo.ts</span></a></li><li><a href="#md:rarezats"><span>rareza.ts</span></a></li><li><a href="#md:cartats"><span>carta.ts</span></a></li><li><a href="#md:coleccionts"><span>coleccion.ts</span></a></li></ul></li><li><a href="#md:tests"><span>Tests</span></a></li><li><ul><li><a href="#md:coleccionspects"><span>coleccion.spec.ts</span></a></li></ul></li><li><a href="#md:ejemplos-de-los-archivos-json"><span>Ejemplos de los archivos JSON</span></a></li><li><ul><li><a href="#md:usuariosseb1json"><span>/usuarios/<wbr/>Seb/1.json</span></a></li></ul></li><li><a href="#md:programa-principal"><span>Programa <wbr/>Principal</span></a></li><li><ul><li><a href="#md:appts"><span>app.ts</span></a></li></ul></li></ul></li></ul></li><li><a href="#md:conclusión"><span>Conclusión</span></a></li><li><a href="#md:bibliografía"><span>Bibliografía</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>filesystem-magic-app</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>